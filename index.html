<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <script type="text/javascript" src="index.js">  </script>
  <!-- <script type="text/javascript" src="video.js">  </script> -->
  <!-- <script type="text/javascript" src="db/videoLists.js">  </script> -->

  <title>math game by sam</title>
</head>
<body>

  <div id="app">


    <div id="optionsButtons">
      <div class="dropdown">
        <button id="dropbtnLevel" class="dropbtnLevel">Level</button>
        <div class="dropdown-contentLevel">
          <a onclick="selectLevel(event)" id="btnLevel1">1</a>
          <a onclick="selectLevel(event)" id="btnLevel2">2</a>
          <a onclick="selectLevel(event)" id="btnLevel3">3</a>
          <a onclick="selectLevel(event)" id="btnLevel4">4</a>
        </div>
      </div>

      <div class="dropdown">
        <button id="dropbtnMathType" class="dropbtn dropbtnMathType">Math Type</button>
        <div class="dropdown-content">
          <a onclick="selectEquationType(event)" id="btnAddition">addition</a>
          <a onclick="selectEquationType(event)" id="btnSubtraction">subtraction</a>
          <a onclick="selectEquationType(event)" id="btnMultiplication">multiplication</a>
          <a onclick="selectEquationType(event)" id="btnDivision">division</a>
        </div>
      </div>

    </div>

    <!-- <div id="player"></div> -->
    <div id="videoToPlay" class="hide">
      <div id="player"></div>


       <!-- <p> hidden</p> -->
     <iframe id="framedVideoToPlay" width="560" height="315" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
   </div>

    <div id="answerMessageContainer">
      <p id="answerMessage"></p>
    </div>


    <div id="equationContainer">
      <p class="equation" id="equation"></p>

      <form class="equation" id="answerInputForm">
        <input type="text" id="answerInput">
        <button onclick="getAnswer(event)">Enter</button>
      </form>

    </div>

    <div id="buttons">
      <button onclick="nextButton(event)">Next </button>
    </div>


    <div class="footer">
      copyright 2022 Sam mckaig

    </div>

  </div>




</body>
</html>

<script>

  initMathToScreen()
// let videoIdx = 5
  // const makeYoutubeVideo = () => {
    // 2. This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');

tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

// 3. This function creates an <iframe> (and YouTube player)
//    after the API code downloads.
var player;
function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    height: '390',
    width: '640',
    videoId: `${correctAnswerVideoList[videoIdx].ytId}`, // 'M7lc1UVf-VE',
    playerVars: {
      'playsinline': 1
    },
    events: {
      // 'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    }
  });
}

// 4. The API will call this function when the video player is ready.
// function onPlayerReady(event) {
//   event.target.playVideo();
// }

// 5. The API calls this function when the player's state changes.
//    The function indicates that when playing a video (state=1),
//    the player should play for six seconds and then stop.
var done = false;
function onPlayerStateChange(event) {
  if (event.data === 0) {
    player.stopVideo();
    console.log('video idx 1', videoIdx)

    nextVideo()
    console.log('ended vid idx 2!!!!', videoIdx)

    done = true;
  }


}

function stopVideo() {
  player.stopVideo();
}



</script>


